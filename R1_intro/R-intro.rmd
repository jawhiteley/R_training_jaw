---
title: "A Gentle Introduction to R"
author: "Jonathan Whiteley"
date: "`r Sys.Date()`"
output: 
  beamer_presentation: 
    theme: Boadilla
    keep_tex: yes
header-includes: |
  \setbeamertemplate{itemize item}[circle]
  \newcommand{\Rlogo}{\includegraphics[height=1em]{`r file.path(R.home("doc"), "html", "logo.jpg")`}}
  \newcommand{\R}{\texttt{R}}
  \newcommand{\highlight}[1]{\StringTok{#1}}
  \newcommand{\important}[1]{\AlertTok{#1}}
  \newcommand{\fade}[1]{\textcolor[rgb]{0.66,0.66,0.66}{#1}}
  \newcommand{\annote}[1]{{\footnotesize #1}}
  \newcommand{\obj}[1]{\textit{texttt{\VariableTok{#1}}}}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r NOTES, include=FALSE, eval=FALSE}
Tips for controlling highlighting and styles in markdown:
https://stackoverflow.com/questions/53530985/custom-highlighting-style-in-rmarkdown 
```


# Pop Quiz

\annote{\fade{We will review these \textit{at the end}, so you can see how much you have learned.}}

+ What does 'CRAN' stand for?
+ Why is it called '$\R$'?
+ How can you use $\R$ _interactively_?
+ How do you find out what a function does & how to use it?
+ How do you store values to re-use later?
+ True or False: Warnings can be ignored, but an Error means I made a mistake.
+ True or False: Error messages will tell me how to fix the problem.


# Learning Objectives

* Get familiar with the ![]( `r file.path(R.home("doc"), "html", "logo.jpg")`){height=1em} _interface_
* Enter _commands_
  * input & output: using $\R$ interactively
  * use some common _functions_
* Understand _Errors_ & _Warnings_
* Use technical _terms_ for $\R$ concepts
* How to get Help


# Why is it called $\Rlogo$?

- **$\R$** started as an _open-source_ implementation of the  
  **`S`** statistical computing language (S-PLUS)
  - `S` was created at Bell Laboratories in 1976
  - $\R$ was based on the `S` syntax (mostly v3), but works very differently "under the hood".
- **$\R$** was created by **R**oss Ihaka and **R**obert Gentleman at the University of Aukland in the early 1990s.


# The $\Rlogo$ inteface

- $\R$ has a slightly different interface for each **O**perating **S**ystem (OS)
  - GUI = **G**raphical **U**ser **I**nterface
- In every case, you interact with R primarily using a _command line_
  - aka “Question-and-Answer Model”
  - You ask $\R$ to do something (a *command*),  
    \qquad{} and $\R$ tells you the answer (*result*).
  - Instructions are given to $\R$ using the *R language*.


# The $\Rlogo$ command-line

- The command *prompt* normally looks like this:  
  \OtherTok{\texttt{>}}
  - This is $\R$'s way of saying "I am ready to accept new commands".
  - Type a new command on the line after this prompt (i.e., *input*).
- **Press \important{\texttt{return}}/\important{\texttt{enter}} to *execute* the current *command* **
- If the prompt looks like this:  
  \OtherTok{\texttt{+}}  
  it means the last command was _incomplete_ and $\R$ is waiting for more input.  
  $\R$ will not do anything until the command is completed or cancelled.
  - This usually means you forgot a closing\
    *quote* \important{\texttt{"}}, *parenthesis* \important{\texttt{(}}, 
    *bracket* \important{\texttt{[}}, or *brace* \important{\texttt{\{}}
- \highlight{You can \textit{cancel} the current command at any time by pressing \texttt{escape}} (\important{\texttt{esc}})


# The $\Rlogo$ console

In this presentation, 

+ *commands* that can be entered in the *command-line* look like this:

```{r in_format, include=TRUE, eval=FALSE}
Input (commands)
```

+ Expected output (results) look like this:

```{r out_format, include=TRUE, eval=TRUE, echo=FALSE}
cat("Output (results)")
```


# $\Rlogo$ is a show-off

```{=latex}
\begin{columns}[T]
  \begin{column}{0.5\textwidth}
```
```{r showoff, eval=FALSE}
demo(graphics)
demo(image)
demo(lm.glm)
demo()

help.start()
```
```{=latex}
  \end{column}
  \begin{column}{0.5\textwidth}
```

- some plots and graphs
that can be made using $\R$

- images and other graphics
made using $\R$

- a demonstration of linear
modelling & GLMs

- a list of available demos

<!-- blank line (Markdown-compatible) -->\

\highlight{Note that \R{} will not only\\ 
show the output, but also\\ 
\textit{the code used to produce it}.}

```{=latex}
  \end{column}
\end{columns}
```

<!-- Overlay arrows:
https://www.overleaf.com/latex/templates/beamer-arrows/wmqkckggvjsd
https://tex.stackexchange.com/questions/199218/how-to-draw-an-arrow-to-a-specified-position-in-a-frame-and-write-some-notes-on
-->

# $\Rlogo$ is a calculator

```{=latex}
\begin{columns}[T]
  \begin{column}{0.5\textwidth}
```
```{r calculator}
1 + 1
2 * 2
2^3
```
```{=latex}
  \end{column}
  \begin{column}{0.5\textwidth}
```
```{r calculator2}
10 - 1
8 / 2
sqrt(9)
```
```{=latex}
  \end{column}
\end{columns}
```

- These are *expressions*
- *Expressions* are *evaluated*, and the *result* is *returned*\
  (sometimes *invisibly*)


# $\Rlogo$ command-line tips

- With the cursor next to the empty prompt (\OtherTok{\texttt{>}}),  
  use the up & down \important{arrow keys} (&uarr;&darr;) to
  re-produce previous commands
- This lets you 
  “scroll through your *command history*”
- Press \important{up} (\important{$\uparrow$}) once, and you get the last command you entered 
  without having to copy & paste


# Symbolic _variables_
<!-- variables vs objects?  Objects vs names?  
In R, everything is an _object_, which have names -->

- You can store values (*objects*) in symbolic variables (*names*) 
  using an *assignment operator*

```{=latex}
% Latex table, because I want to use LaTeX commands to format text,
% which somehow causes extra space in the tex output, if used in a Markdown table.
\begin{longtable}[c]{@{}ll@{}}
\toprule()
\endhead
\OperatorTok{\texttt{\textless{}-}} & assign the \emph{value} on the \textbf{right} to
the \emph{name} on the \textbf{left} \\
\bottomrule()
\end{longtable}
```

```{=latex}
\begin{columns}[T]
  \begin{column}{0.5\textwidth}
```

- Names can include:

|||<!-- empty header row, because most Markdown parsers require a header row -->
|:----------|---------|
|letters    |\StringTok{\texttt{a-z A-Z}}|
|numbers    |\StringTok{\texttt{0-9}}    |
|periods    |\StringTok{\texttt{.}}      |
|underscores|\StringTok{\texttt{\_}}     |

- Names _should begin with a **\StringTok{letter}**_

```{=latex}
  \end{column}
  \begin{column}{0.5\textwidth}
```
```{r assignment, results='hide'}
A <- 10
B <- 10 * 10
A_log <- log(A)
B.seq <- 1:B

assign('x', 3)
```
```{=latex}
  \end{column}
\end{columns}
```


# References & More Information

```{r, eval=FALSE}
help.start()
```
  - [An Introduction to R](https://cran.r-project.org/doc/manuals/r-release/R-intro.html)
  - [The R Language Definition](https://cran.r-project.org/doc/manuals/r-release/R-lang.html)

+ [$\Rlogo$](https://r-project.org/) [Manuals](https://cran.r-project.org/manuals.html)
  (<https://cran.r-project.org/manuals.html>)

+ $\Rlogo$ [Contributed Documentation](https://cran.r-project.org/other-docs.html)
  - e.g., <http://cran.r-project.org/doc/contrib/usingR.pdf>

+ Internet search
  - [Stack Overflow](https://stackoverflow.com/questions/tagged/r)
  - [Cookbook for R](http://www.cookbook-r.com/)

<!-- deprecated (these are 10+ years old, but they helped me learn)
+ Books
  - [A Beginner's Guide to R](https://link.springer.com/book/10.1007/978-0-387-93837-0)
  - [Introductory Statistics with R](https://link.springer.com/book/10.1007/978-0-387-79054-1)
-->
